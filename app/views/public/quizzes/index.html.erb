
<div>模試</div>

</br>
</br>

<table>
  <thead>
    <tr>
      <th>番号</th>
      <th>問題</th>
      <th colspan="1"></th>
      <th>解答</th>
      <th>答え</th>
      <th colspan="1"></th>
    </tr>
  </thead>

  <%= form_with model: @mock_exam, url: mock_exams_path, method: :post do |f| %>
  <tbody>

    <% @items.each do |item| %>
    <% item.quizzes.take(40).each do |quiz| %>
      <tr>
        <td>番号</td>
        <td><%= quiz.question %></td>
        <td>
          A<%= image_tag quiz.get_number_a_image(50, 50) %>
          B<%= image_tag quiz.get_number_b_image(50, 50) %>
          C<%= image_tag quiz.get_number_c_image(50, 50) %>
        </td>
        <td>
          <%= f.fields_for :answers, @mock_exam.answers.build, url: answers_path, method: :post do |a| %>
            <%= a.check_box :scoring %>
            <%= a.text_field :answer %>
            <%= a.hidden_field :quiz_id, value: quiz.id %>
        </td>
        <td><%= quiz.correct_answer %></td>
        <td>
          <%= link_to "詳細", item_path(item.id) %>
          <% end %>
        </td>
      </tr>

    <% end %>
    <% end %>

    <%= f.number_field :point %>
    <%= f.submit "結果を保存する" %>
  </tbody>
  <% end %>
</table>

